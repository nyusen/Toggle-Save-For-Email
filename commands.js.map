{"version":3,"file":"commands.js","mappings":"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","sources":["webpack://commands/./src/commands.js"],"sourcesContent":["/*\n * Copyright (c) Microsoft Corporation. All rights reserved. Licensed under the MIT license.\n * See LICENSE in the project root for license information.\n */\n\nconst config = {\n    clientId: \"6d7e781e-9cf5-48ff-8c05-b697ca1a90e3\",\n    redirectUri: \"https://nyusen.github.io/Toggle-Save-For-Email/auth-callback.html\",\n    authEndpoint: \"https://login.microsoftonline.com/common/oauth2/v2.0/authorize\",\n    tokenEndpoint: \"https://login.microsoftonline.com/common/oauth2/v2.0/token\",\n    scopes: \"openid profile email Mail.Read Mail.Send\",\n};\n\nlet accessToken = null;\nlet idToken = null;\n\n// Make functions globally available\nwindow.validateBody = validateBody;\nwindow.saveForTraining = saveForTraining;\nwindow.setSendOnly = setSendOnly;\n\nOffice.onReady(async (info) => {\n    if (info.host) {\n        // Check if we have tokens in session storage\n        accessToken = sessionStorage.getItem('accessToken');\n        idToken = sessionStorage.getItem('idToken');\n        \n        if (accessToken) {\n            updateUI(true);\n        } else {\n            updateUI(false);\n        }\n\n        // Add click handler for sign-in button\n        document.getElementById('signInButton').onclick = handleSignIn;\n    }\n});\n\n// Function to handle sign-in button click\nfunction handleSignIn() {\n    return new Promise((resolve, reject) => {\n        // Generate random state and PKCE verifier\n        const state = generateRandomString(32);\n        const codeVerifier = generateRandomString(64);\n        const nonce = generateRandomString(16);\n        \n        // Store state and code verifier in parent window's session storage\n        window.sessionStorage.setItem('authState', state);\n        window.sessionStorage.setItem('codeVerifier', codeVerifier);\n\n        // Generate code challenge\n        generateCodeChallenge(codeVerifier).then(codeChallenge => {\n            // Build the URL to our local sign-in start page\n            const startUrl = new URL('https://nyusen.github.io/Toggle-Save-For-Email/sign-in-start.html');\n            startUrl.searchParams.append('state', state);\n            startUrl.searchParams.append('nonce', nonce);\n            startUrl.searchParams.append('code_challenge', codeChallenge);\n            startUrl.searchParams.append('code_challenge_method', 'S256');\n            startUrl.searchParams.append('code_verifier', codeVerifier);\n            \n            // Add delay before opening the auth dialog\n            setTimeout(() => {\n                // Open our local page in a dialog, which will then redirect to Microsoft\n                Office.context.ui.displayDialogAsync(startUrl.toString(), \n                    {height: 60, width: 30}, \n                    function(result) {\n                        if (result.status === Office.AsyncResultStatus.Failed) {\n                            console.error(result.error.message);\n                            reject(new Error(result.error.message));\n                            return;\n                        }\n\n                        const dialog = result.value;\n                        dialog.addEventHandler(Office.EventType.DialogMessageReceived, function(arg) {\n                            try {\n                                const message = JSON.parse(arg.message);\n                                if (message.type === 'token') {\n                                    // Store both tokens\n                                    accessToken = message.token;\n                                    idToken = message.idToken;\n                                    sessionStorage.setItem('accessToken', message.token);\n                                    sessionStorage.setItem('idToken', message.idToken);\n                                    sessionStorage.setItem('tokenType', message.tokenType);\n                                    sessionStorage.setItem('expiresIn', message.expiresIn);\n                                    dialog.close();\n                                    resolve(message.token);\n                                } else if (message.type === 'error') {\n                                    dialog.close();\n                                    reject(new Error(message.error));\n                                }\n                            } catch (e) {\n                                console.error('Error parsing message:', e);\n                                dialog.close();\n                                reject(e);\n                            }\n                        });\n\n                        dialog.addEventHandler(Office.EventType.DialogEventReceived, function(arg) {\n                            dialog.close();\n                            reject(new Error('Dialog closed'));\n                        });\n                    }\n                );\n            }, 1000); // Wait 1 second to ensure previous dialog is fully closed\n        }).catch(error => {\n            reject(error);\n        });\n    });\n}\n\n// Function to generate random string for PKCE and state\nfunction generateRandomString(length) {\n    const possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~';\n    let text = '';\n    for (let i = 0; i < length; i++) {\n        text += possible.charAt(Math.floor(Math.random() * possible.length));\n    }\n    return text;\n}\n\n// Function to generate code challenge from verifier\nasync function generateCodeChallenge(codeVerifier) {\n    const encoder = new TextEncoder();\n    const data = encoder.encode(codeVerifier);\n    const digest = await window.crypto.subtle.digest('SHA-256', data);\n    return base64URLEncode(digest);\n}\n\n// Base64URL encoding function\nfunction base64URLEncode(buffer) {\n    return btoa(String.fromCharCode(...new Uint8Array(buffer)))\n        .replace(/\\+/g, '-')\n        .replace(/\\//g, '_')\n        .replace(/=+$/, '');\n}\n\n// Function to update UI based on sign-in state\nfunction updateUI(isSignedIn) {\n    const signInSection = document.getElementById('signInSection');\n    const toggleSection = document.getElementById('toggleSection');\n    const statusMessage = document.getElementById('statusMessage');\n    const signInButton = document.getElementById('signInButton');\n\n    if (isSignedIn) {\n        signInButton.style.display = 'none';\n        toggleSection.style.display = 'block';\n        statusMessage.textContent = 'Signed in successfully';\n    } else {\n        signInButton.style.display = 'block';\n        toggleSection.style.display = 'none';\n        statusMessage.textContent = 'Please sign in to use the add-in';\n    }\n}\n\n// Function to make authenticated requests to your server\nasync function makeAuthenticatedRequest(url, options = {}) {\n    if (!accessToken) {\n        throw new Error('Not authenticated');\n    }\n\n    const headers = {\n        'Authorization': `Bearer ${idToken}`,\n        'Content-Type': 'application/json',\n        ...options.headers\n    };\n\n    const response = await fetch(url, {\n        ...options,\n        headers\n    });\n\n    if (!response.ok) {\n        if (response.status === 401) {\n            // Token might be expired, clear it\n            accessToken = null;\n            sessionStorage.removeItem('accessToken');\n            updateUI(false);\n            throw new Error('Authentication expired. Please sign in again.');\n        }\n        throw new Error(`Request failed: ${response.statusText}`);\n    }\n\n    return response.json();\n}\n\n// Function to set send only option\nfunction setSendOnly(event) {\n    Office.context.mailbox.item.loadCustomPropertiesAsync((result) => {\n        const props = result.value;\n        props.set(\"saveForTraining\", false);\n        props.saveAsync(() => {\n            event.completed();\n        });\n    });\n}\n\n// Entry point for email send validation\nasync function validateBody(event) {\n    try {\n        // Load custom properties to check save setting\n        Office.context.mailbox.item.loadCustomPropertiesAsync(async (result) => {\n            const props = result.value;\n            const shouldSave = props.get(\"saveForTraining\");\n            if (shouldSave === undefined) {\n                event.completed({ allowEvent: true })\n            }\n            \n            if (!shouldSave) {\n                // If \"Send Only\" is selected, just send the email\n                event.completed({ allowEvent: true });\n                return;\n            }\n\n            // If \"Save and Send\" is selected but user is not signed in\n            if (!accessToken) {\n                // Show sign-in dialog\n                Office.context.ui.displayDialogAsync('https://nyusen.github.io/Toggle-Save-For-Email/signin-dialog.html', \n                    {height: 40, width: 30, displayInIframe: true},\n                    function (signInResult) {\n                        if (signInResult.status === Office.AsyncResultStatus.Failed) {\n                            console.error(signInResult.error.message);\n                            event.completed({ allowEvent: false });\n                            return;\n                        }\n\n                        const signInDialog = signInResult.value;\n                        signInDialog.addEventHandler(Office.EventType.DialogMessageReceived, async function (signInArg) {\n                            if (signInArg.message === 'signin') {\n                                // User wants to sign in\n                                signInDialog.close();\n                                handleSignIn().then(() => {\n                                    // User is signed in, proceed with saving\n                                    saveForTraining(event);\n                                }).catch((error) => {\n                                    console.error('Error signing in:', error);\n                                    event.completed({ allowEvent: false });\n                                });\n                            } else if (signInArg.message === 'cancel') {\n                                // User doesn't want to sign in\n                                signInDialog.close();\n                                event.completed({ allowEvent: false });\n            }\n                        });\n                    }\n                );\n        } else {\n                // User is already signed in and wants to save, proceed with saving\n                await saveForTraining(event);\n        }\n        });\n    } catch (error) {\n        console.error('Error in validateBody:', error);\n        event.completed({ allowEvent: true, errorMessage: \"Failed to process email, but allowing send.\" });\n    }\n}\n\nasync function saveForTraining(event) {\n    const item = Office.context.mailbox.item;\n    item.loadCustomPropertiesAsync(async (result) => {\n        try {\n            const customProperties = result.value;\n            let tags = JSON.parse(customProperties.get('selectedTags')) || [];\n\n            // Get email data using promises\n            const [subject, body, sender, recipients] = await Promise.all([\n                new Promise((resolve) => item.subject.getAsync(resolve)),\n                new Promise((resolve) => item.body.getAsync('text', resolve)),\n                new Promise((resolve) => item.from.getAsync(resolve)),\n                new Promise((resolve) => item.to.getAsync(resolve)),\n            ]);\n            \n            const emailData = {\n                subject: subject.value,\n                body: body.value,\n                sender: sender.value.emailAddress,\n                recipients: recipients.value.map(r => r.emailAddress),\n                tags: tags.map(tag => tag.id),\n                timestamp: new Date().toISOString(),\n            };\n        \n            // Make authenticated request to your server\n            await makeAuthenticatedRequest('https://ml-inf-svc-dev.eventellect.com/corpus-collector/api/save-email', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(emailData)\n            });\n    \n            event.completed({ allowEvent: true });\n        } catch (error) {\n            console.error('Error:', error);\n            // Show retry dialog with error message\n            const errorMessage = encodeURIComponent(error.message || 'An unknown error occurred');\n            Office.context.ui.displayDialogAsync(`https://nyusen.github.io/Toggle-Save-For-Email/retry-dialog.html?error=${errorMessage}`, \n                {height: 30, width: 20, displayInIframe: true},\n                function (asyncResult) {\n                    if (asyncResult.status === Office.AsyncResultStatus.Failed) {\n                        console.error(asyncResult.error.message);\n                        event.completed({ allowEvent: false });\n                        return;\n                    }\n                    \n                    const dialog = asyncResult.value;\n                    dialog.addEventHandler(Office.EventType.DialogMessageReceived, function (arg) {\n                        dialog.close();\n                        if (arg.message === 'retry') {\n                            saveForTraining(event);\n                        } else {\n                            event.completed({ allowEvent: true });\n                        }\n                    });\n                }\n            );\n        }\n    })\n}"],"names":["_regeneratorRuntime","e","t","r","Object","prototype","n","hasOwnProperty","o","defineProperty","value","i","Symbol","a","iterator","c","asyncIterator","u","toStringTag","define","enumerable","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","type","arg","call","h","l","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","p","d","getPrototypeOf","v","values","g","defineIteratorMethods","forEach","_invoke","AsyncIterator","invoke","_typeof","resolve","__await","then","callInvokeWithMethodAndArg","Error","done","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","return","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","isNaN","length","displayName","isGeneratorFunction","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","keys","reverse","pop","prev","charAt","slice","stop","rval","handle","complete","finish","catch","_catch","delegateYield","asyncGeneratorStep","_asyncToGenerator","arguments","apply","_next","_throw","config","clientId","redirectUri","authEndpoint","tokenEndpoint","scopes","accessToken","idToken","window","validateBody","saveForTraining","setSendOnly","Office","onReady","_ref","_callee","info","_callee$","_context","host","sessionStorage","getItem","updateUI","document","getElementById","onclick","handleSignIn","_x","reject","state","generateRandomString","codeVerifier","nonce","setItem","generateCodeChallenge","codeChallenge","startUrl","URL","searchParams","append","setTimeout","context","ui","displayDialogAsync","toString","height","width","result","status","AsyncResultStatus","Failed","console","error","message","dialog","addEventHandler","EventType","DialogMessageReceived","JSON","parse","token","tokenType","expiresIn","close","DialogEventReceived","possible","text","Math","floor","random","_x2","_generateCodeChallenge","_callee2","encoder","data","digest","_callee2$","_context2","TextEncoder","encode","crypto","subtle","base64URLEncode","buffer","btoa","String","fromCharCode","_toConsumableArray","Uint8Array","replace","isSignedIn","signInSection","toggleSection","statusMessage","signInButton","style","display","textContent","makeAuthenticatedRequest","_x3","_makeAuthenticatedRequest","_callee3","url","options","headers","response","_args3","_callee3$","_context3","undefined","_objectSpread","concat","fetch","ok","removeItem","statusText","json","event","mailbox","item","loadCustomPropertiesAsync","props","set","saveAsync","completed","_x4","_validateBody","_callee6","_callee6$","_context6","_ref2","_callee5","shouldSave","_callee5$","_context5","get","allowEvent","displayInIframe","signInResult","signInDialog","_ref3","_callee4","signInArg","_callee4$","_context4","_x7","_x6","errorMessage","_x5","_saveForTraining","_callee8","_callee8$","_context8","_ref4","_callee7","customProperties","tags","_yield$Promise$all","_yield$Promise$all2","subject","body","sender","recipients","emailData","_callee7$","_context7","all","getAsync","from","to","_slicedToArray","emailAddress","map","tag","id","timestamp","Date","toISOString","stringify","t0","encodeURIComponent","asyncResult","_x8"],"sourceRoot":""}